<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../_static/logo.svg><title>zarr Driver - TensorStore</title><link rel=stylesheet href=../../_static/stylesheets/main.css><link rel=stylesheet href=../../_static/stylesheets/palette.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>
          :root {
            --md-text-font-family: "Roboto";
            --md-code-font-family: "Roboto Mono";
          }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue> <script>

  /* Prepend the base path to the given key to ensure uniqueness */
  function __prefix(key) {
    var prefix = new URL("../..", location)
    return prefix.pathname + "." + key
  }

  /* Fetch the given key from the given storage */
  function __get(key, storage = localStorage) {
    return JSON.parse(storage.getItem(__prefix(key)))
  }
</script> <script>
  var palette = __get("__palette")
  if (palette !== null && typeof palette.color === "object")
    for (var key in palette.color)
      document.body.setAttribute("data-md-color-" + key, palette.color[key])
</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=TensorStore class="md-header__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-menu width=24 height=24 viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TensorStore </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> zarr Driver </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb-outline width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-close width=24 height=24 viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=TensorStore class="md-nav__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> TensorStore </label> <div class=md-nav__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 data-md-state=indeterminate type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> <a class href=../../python/tutorial.html>Python API</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python API" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python/tutorial.html class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../../python/indexing.html class=md-nav__link> Indexing </a> </li> <li class=md-nav__item> <a href=../../python/api/index.html class=md-nav__link> API reference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <a class href=../../installation.html>Setup</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation.html class=md-nav__link> Building and Installing </a> </li> <li class=md-nav__item> <a href=../../environment.html class=md-nav__link> Environment variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> <a class href=../../spec.html>JSON</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JSON data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> JSON </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../spec.html class=md-nav__link> JSON Spec </a> </li> <li class=md-nav__item> <a href=../../index_space.html class=md-nav__link> Index space </a> </li> <li class=md-nav__item> <a href=../../schema.html class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=../../context.html class=md-nav__link> Context framework </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5 type=checkbox id=__nav_3_5 checked> <label class=md-nav__link for=__nav_3_5> <a class href=../index.html>Drivers</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Drivers data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Drivers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cast/index.html class=md-nav__link> cast Driver </a> </li> <li class=md-nav__item> <a href=../downsample/index.html class=md-nav__link> downsample Driver </a> </li> <li class=md-nav__item> <a href=../array/index.html class=md-nav__link> array Driver </a> </li> <li class=md-nav__item> <a href=../stack/index.html class=md-nav__link> stack Driver </a> </li> <li class=md-nav__item> <a href=../index.html#single-file-drivers class=md-nav__link> Single file drivers </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5_6 type=checkbox id=__nav_3_5_6 checked> <label class=md-nav__link for=__nav_3_5_6> <a class href=../index.html#chunked-storage-drivers>Chunked storage drivers</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Chunked storage drivers" data-md-level=3> <label class=md-nav__title for=__nav_3_5_6> <span class="md-nav__icon md-icon"></span> Chunked storage drivers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> zarr Driver <span class="md-nav__icon md-icon"></span> </label> <a href class="md-nav__link md-nav__link--active"> zarr Driver </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> zarr Driver </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-driver/zarr class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr (JSON type)">driver/zarr</span> </a> <nav class=md-nav aria-label=driver/zarr> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.kvstore class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.kvstore (JSON member)">kvstore</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.context class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.context (JSON member) — Specifies context resources that augment/override the parent context.">context</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.dtype (JSON member) — Specifies the data type.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.rank (JSON member) — Specifies the rank of the TensorStore.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.transform class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.transform (JSON member) — Specifies a transform.">transform</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.schema class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.schema (JSON member) — Specifies constraints on the schema.">schema</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.path class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.path (JSON member) — Additional path within the KvStore specified by
kvstore.">path</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.open class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.open (JSON member)">open</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.create class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.create (JSON member)">create</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.delete_existing class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.delete_existing (JSON member)">delete_existing</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.assume_metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.assume_metadata (JSON member)">assume_metadata</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.cache_pool class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.cache_pool (JSON member)">cache_pool</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.data_copy_concurrency class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.data_copy_concurrency (JSON member)">data_copy_concurrency</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.recheck_cached_metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.recheck_cached_metadata (JSON member)">recheck_cached_metadata</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.recheck_cached_data class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.recheck_cached_data (JSON member)">recheck_cached_data</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.field class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.field (JSON member) — Name of field to open.">field</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata (JSON member) — Zarr array metadata.">metadata</span> </a> <nav class=md-nav aria-label=metadata> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.zarr_format class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.zarr_format (JSON member)">zarr_format</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.shape class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.shape (JSON member) — Chunked dimensions of the array.">shape</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.chunks class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.chunks (JSON member) — Chunk dimensions.">chunks</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.fill_value class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.fill_value (JSON member) — Specifies the fill value.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.order class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks.">order</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.compressor class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.compressor (JSON member) — Specifies the chunk compression method.">compressor</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.filters class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.filters (JSON member) — Specifies the filters to apply to chunks.">filters</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.dimension_separator class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.dimension_separator (JSON member) — Specifies the encoding of chunk indices into key-value store keys.">dimension_separator</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata_key class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata_key (JSON member) — Specifies the key under which to store the array metadata in JSON format.">metadata_key</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.key_encoding class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.key_encoding (JSON member) — Specifies the encoding of chunk indices into key-value store keys.">key_encoding</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compressors class=md-nav__link> Compressors </a> <nav class=md-nav aria-label=Compressors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor (JSON type) — Compressor">driver/zarr/Compressor</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor.id (JSON member)">id</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/zlib (JSON type)">driver/zarr/Compressor/zlib</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/zlib> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/zlib.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib.level class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/zlib.level (JSON member) — Specifies the zlib compression level to use.">level</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/blosc (JSON type)">driver/zarr/Compressor/blosc</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/blosc> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.cname class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.cname (JSON member)">cname</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.clevel class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.clevel (JSON member) — Specifies the Blosc compression level to use.">clevel</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.shuffle class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.shuffle (JSON member)">shuffle</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.blocksize class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.blocksize (JSON member) — Specifies the Blosc blocksize.">blocksize</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2 class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/bz2 (JSON type)">driver/zarr/Compressor/bz2</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/bz2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/bz2.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2.level class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/bz2.level (JSON member) — Specifies the bzip2 buffer size/compression level to use.">level</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mapping-to-tensorstore-schema class=md-nav__link> Mapping to TensorStore Schema </a> <nav class=md-nav aria-label="Mapping to TensorStore Schema"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-type class=md-nav__link> Data type </a> </li> <li class=md-nav__item> <a href=#domain class=md-nav__link> Domain </a> </li> <li class=md-nav__item> <a href=#chunk-layout class=md-nav__link> Chunk layout </a> <nav class=md-nav aria-label="Chunk layout"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#selection-of-chunk-layout-when-creating-a-new-array class=md-nav__link> Selection of chunk layout when creating a new array </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#codec class=md-nav__link> Codec </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Codec class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Codec (JSON type)">driver/zarr/Codec</span> </a> <nav class=md-nav aria-label=driver/zarr/Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.compressor class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.compressor (JSON member) — Specifies the chunk compression method.">compressor</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.filters class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.filters (JSON member) — Specifies the filters to apply to chunks.">filters</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fill-value class=md-nav__link> Fill value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#limitations class=md-nav__link> Limitations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../n5/index.html class=md-nav__link> n5 Driver </a> </li> <li class=md-nav__item> <a href=../neuroglancer_precomputed/index.html class=md-nav__link> neuroglancer_precomputed Driver </a> </li> <li class=md-nav__item> <a href=../index.html#json-KeyValueStoreBackedChunkDriver class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="KeyValueStoreBackedChunkDriver (JSON type)">KeyValueStoreBackedChunkDriver</span> </a> </li> <li class=md-nav__item> <a href=../index.html#json-CacheRevalidationBound class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="CacheRevalidationBound (JSON type)">CacheRevalidationBound</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../kvstore/index.html class=md-nav__link> Key-Value Storage Layer </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> zarr Driver </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#json-driver/zarr class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr (JSON type)">driver/zarr</span> </a> <nav class=md-nav aria-label=driver/zarr> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.kvstore class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.kvstore (JSON member)">kvstore</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.context class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.context (JSON member) — Specifies context resources that augment/override the parent context.">context</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.dtype (JSON member) — Specifies the data type.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.rank class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.rank (JSON member) — Specifies the rank of the TensorStore.">rank</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.transform class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.transform (JSON member) — Specifies a transform.">transform</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.schema class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.schema (JSON member) — Specifies constraints on the schema.">schema</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.path class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.path (JSON member) — Additional path within the KvStore specified by
kvstore.">path</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.open class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.open (JSON member)">open</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.create class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.create (JSON member)">create</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.delete_existing class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.delete_existing (JSON member)">delete_existing</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.assume_metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.assume_metadata (JSON member)">assume_metadata</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.cache_pool class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.cache_pool (JSON member)">cache_pool</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.data_copy_concurrency class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.data_copy_concurrency (JSON member)">data_copy_concurrency</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.recheck_cached_metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.recheck_cached_metadata (JSON member)">recheck_cached_metadata</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.recheck_cached_data class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.recheck_cached_data (JSON member)">recheck_cached_data</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.field class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.field (JSON member) — Name of field to open.">field</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata (JSON member) — Zarr array metadata.">metadata</span> </a> <nav class=md-nav aria-label=metadata> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.zarr_format class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.zarr_format (JSON member)">zarr_format</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.shape class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.shape (JSON member) — Chunked dimensions of the array.">shape</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.chunks class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.chunks (JSON member) — Chunk dimensions.">chunks</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.dtype class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type.">dtype</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.fill_value class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.fill_value (JSON member) — Specifies the fill value.">fill_value</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.order class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks.">order</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.compressor class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.compressor (JSON member) — Specifies the chunk compression method.">compressor</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.filters class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.filters (JSON member) — Specifies the filters to apply to chunks.">filters</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata.dimension_separator class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata.dimension_separator (JSON member) — Specifies the encoding of chunk indices into key-value store keys.">dimension_separator</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr.metadata_key class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.metadata_key (JSON member) — Specifies the key under which to store the array metadata in JSON format.">metadata_key</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr.key_encoding class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr.key_encoding (JSON member) — Specifies the encoding of chunk indices into key-value store keys.">key_encoding</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compressors class=md-nav__link> Compressors </a> <nav class=md-nav aria-label=Compressors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor (JSON type) — Compressor">driver/zarr/Compressor</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor.id (JSON member)">id</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/zlib (JSON type)">driver/zarr/Compressor/zlib</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/zlib> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/zlib.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/zlib.level class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/zlib.level (JSON member) — Specifies the zlib compression level to use.">level</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/blosc (JSON type)">driver/zarr/Compressor/blosc</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/blosc> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.cname class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.cname (JSON member)">cname</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.clevel class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.clevel (JSON member) — Specifies the Blosc compression level to use.">clevel</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.shuffle class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.shuffle (JSON member)">shuffle</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/blosc.blocksize class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/blosc.blocksize (JSON member) — Specifies the Blosc blocksize.">blocksize</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2 class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Compressor/bz2 (JSON type)">driver/zarr/Compressor/bz2</span> </a> <nav class=md-nav aria-label=driver/zarr/Compressor/bz2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2.id class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/bz2.id (JSON member)">id</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Compressor/bz2.level class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Compressor/bz2.level (JSON member) — Specifies the bzip2 buffer size/compression level to use.">level</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mapping-to-tensorstore-schema class=md-nav__link> Mapping to TensorStore Schema </a> <nav class=md-nav aria-label="Mapping to TensorStore Schema"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-type class=md-nav__link> Data type </a> </li> <li class=md-nav__item> <a href=#domain class=md-nav__link> Domain </a> </li> <li class=md-nav__item> <a href=#chunk-layout class=md-nav__link> Chunk layout </a> <nav class=md-nav aria-label="Chunk layout"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#selection-of-chunk-layout-when-creating-a-new-array class=md-nav__link> Selection of chunk layout when creating a new array </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#codec class=md-nav__link> Codec </a> <nav class=md-nav aria-label=Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Codec class=md-nav__link> <span aria-label="JSON type" class="objinfo-icon objinfo-icon__data" title="JSON type">J</span><span title="driver/zarr/Codec (JSON type)">driver/zarr/Codec</span> </a> <nav class=md-nav aria-label=driver/zarr/Codec> <ul class=md-nav__list> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.driver class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.driver (JSON member)">driver</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.compressor class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.compressor (JSON member) — Specifies the chunk compression method.">compressor</span> </a> </li> <li class=md-nav__item> <a href=#json-driver/zarr/Codec.filters class=md-nav__link> <span aria-label="JSON member" class="objinfo-icon objinfo-icon__sub-data" title="JSON member">j</span><span title="driver/zarr/Codec.filters (JSON member) — Specifies the filters to apply to chunks.">filters</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fill-value class=md-nav__link> Fill value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#limitations class=md-nav__link> Limitations </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset" role=main> <h1 id=zarr-driver><span id=id1></span><code class="docutils literal notranslate"><span class=pre>zarr</span></code> Driver<a class=headerlink href=#zarr-driver title="Permalink to this headline">¶</a></h1> <p><a class="reference external" href=https://github.com/zarr-developers/zarr-python>Zarr</a> is a chunked array storage format based on the <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>NumPy data type model</a>.</p> <p>The <code class="docutils literal notranslate"><span class=pre>zarr</span></code> driver provides access to Zarr-format arrays backed by any supported <a class="reference internal" href=../../kvstore/index.html#key-value-store><span class="std std-ref">Key-Value Storage Layer</span></a>. It supports reading, writing, creating new arrays, and resizing arrays.</p> <p>Zarr supports arrays with <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data types</a> specifying multiple named fields that are packed together. TensorStore fully supports such arrays, but each field must be opened separately.</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=../index.html#json-KeyValueStoreBackedChunkDriver title="KeyValueStoreBackedChunkDriver (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>KeyValueStoreBackedChunkDriver</span></code></a></p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.driver> <span class="sig-name descname"><span class=pre>driver</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zarr&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.driver title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.kvstore> <span class="sig-name descname"><span class=pre>kvstore</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../kvstore/index.html#json-KvStore title="KvStore (JSON type) — Key-value store specification."><span class=pre>KvStore</span></a></span><span class=p> <span class=pre>|</span> </span><span class=desctype><a class="reference internal" href=../../kvstore/index.html#json-KvStoreUrl title="KvStoreUrl (JSON type) — URL representation of a key-value store."><span class=pre>KvStoreUrl</span></a></span><a class=headerlink href=#json-driver/zarr.kvstore title="Permalink to this definition">¶</a></dt> <dd><p>Specifies the underlying storage mechanism.</p> </dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.context> <span class="sig-name descname"><span class=pre>context</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-Context title="Context (JSON type)"><span class=pre>Context</span></a></span><a class=headerlink href=#json-driver/zarr.context title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies context resources that augment/override the parent context.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.dtype> <span class="sig-name descname"><span class=pre>dtype</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../spec.html#json-dtype title="dtype (JSON type) — Specifies a TensorStore data type."><span class=pre>dtype</span></a></span><a class=headerlink href=#json-driver/zarr.dtype title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the data type.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.rank> <span class="sig-name descname"><span class=pre>rank</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>32</span><span class=w></span></code><span class=p><span class=pre>]</span></span></sub><a class=headerlink href=#json-driver/zarr.rank title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the rank of the TensorStore.</p> </span><p>If <a class="reference internal" href=#json-driver/zarr.transform title="driver/zarr.transform (JSON member) — Specifies a transform."><code class="xref json json-schema docutils literal notranslate"><span class=pre>transform</span></code></a> is also specified, the input rank must match. Otherwise, the rank constraint applies to the driver directly.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.transform> <span class="sig-name descname"><span class=pre>transform</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../index_space.html#json-IndexTransform title="IndexTransform (JSON type)"><span class=pre>IndexTransform</span></a></span><a class=headerlink href=#json-driver/zarr.transform title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies a transform.</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.schema> <span class="sig-name descname"><span class=pre>schema</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../schema.html#json-Schema title="Schema (JSON type)"><span class=pre>Schema</span></a></span><a class=headerlink href=#json-driver/zarr.schema title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies constraints on the schema.</p> </span><p>When opening an existing array, specifies constraints on the existing schema; opening will fail if the constraints do not match. Any soft constraints specified in the <a class="reference internal" href=../../schema.html#json-Schema.chunk_layout title="Schema.chunk_layout (JSON member) — Data storage layout constraints."><code class="xref json json-schema docutils literal notranslate"><span class=pre>chunk_layout</span></code></a> are ignored. When creating a new array, a suitable schema will be selected automatically based on the specified schema constraints in combination with any driver-specific constraints.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.path> <span class="sig-name descname"><span class=pre>path</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.path title="Permalink to this definition">¶</a></dt> <dd><span><p>Additional path within the <a class="reference internal" href=../../kvstore/index.html#json-KvStore title="KvStore (JSON type) — Key-value store specification."><code class="xref json json-schema docutils literal notranslate"><span class=pre>KvStore</span></code></a> specified by <a class="reference internal" href=#json-driver/zarr.kvstore title="driver/zarr.kvstore (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>kvstore</span></code></a>.</p> </span><p>This is joined as an additional <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;/&quot;</span><span class=w></span></code>-separated path component after any <a class="reference internal" href=../../kvstore/index.html#json-KvStore.path title="KvStore.path (JSON member) — Key prefix within the key-value store."><code class="xref json json-schema docutils literal notranslate"><span class=pre>path</span></code></a> member directly within <a class="reference internal" href=#json-driver/zarr.kvstore title="driver/zarr.kvstore (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>kvstore</span></code></a>. This is supported for backwards compatibility only; the <a class="reference internal" href=../../kvstore/index.html#json-KvStore.path title="KvStore.path (JSON member) — Key prefix within the key-value store."><code class="xref json json-schema docutils literal notranslate"><span class=pre>KvStore.path</span></code></a> member should be used instead.</p> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=s2>&quot;path/to/data&quot;</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.open> <span class="sig-name descname"><span class=pre>open</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>boolean</span></span><a class=headerlink href=#json-driver/zarr.open title="Permalink to this definition">¶</a></dt> <dd><p>Open an existing TensorStore. If neither <a class="reference internal" href=#json-driver/zarr.open title="driver/zarr.open (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>open</span></code></a> nor <a class="reference internal" href=#json-driver/zarr.create title="driver/zarr.create (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>create</span></code></a> is specified, defaults to <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.create> <span class="sig-name descname"><span class=pre>create</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>boolean</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.create title="Permalink to this definition">¶</a></dt> <dd><p>Create a new TensorStore. Specify <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code> for both <a class="reference internal" href=#json-driver/zarr.open title="driver/zarr.open (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>open</span></code></a> and <a class="reference internal" href=#json-driver/zarr.create title="driver/zarr.create (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>create</span></code></a> to permit either opening an existing TensorStore or creating a new TensorStore if it does not already exist.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.delete_existing> <span class="sig-name descname"><span class=pre>delete_existing</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>boolean</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.delete_existing title="Permalink to this definition">¶</a></dt> <dd><p>Delete any existing data at the specified path before creating a new TensorStore. Requires that <a class="reference internal" href=#json-driver/zarr.create title="driver/zarr.create (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>create</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code>, and that <a class="reference internal" href=#json-driver/zarr.open title="driver/zarr.open (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>open</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.assume_metadata> <span class="sig-name descname"><span class=pre>assume_metadata</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>boolean</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.assume_metadata title="Permalink to this definition">¶</a></dt> <dd><p>Skip reading the metadata if possible. Instead, just assume any necessary metadata based on constraints in the spec, using the same defaults for any unspecified metadata as when creating a new TensorStore. Requires that <a class="reference internal" href=#json-driver/zarr.open title="driver/zarr.open (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>open</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code> and that <a class="reference internal" href=#json-driver/zarr.delete_existing title="driver/zarr.delete_existing (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>delete_existing</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code>. .. warning:</p> <div class="highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=n>This</span> <span class=n>option</span> <span class=n>can</span> <span class=n>lead</span> <span class=n>to</span> <span class=n>data</span> <span class=n>corruption</span> <span class=k>if</span> <span class=n>the</span> <span class=n>assumed</span> <span class=n>metadata</span> <span class=n>does</span>
<span class=ow>not</span> <span class=n>match</span> <span class=n>the</span> <span class=n>stored</span> <span class=n>metadata</span><span class=p>,</span> <span class=ow>or</span> <span class=n>multiple</span> <span class=n>concurrent</span> <span class=n>writers</span> <span class=n>use</span>
<span class=n>different</span> <span class=n>assumed</span> <span class=n>metadata</span><span class=o>.</span>
</code></pre></div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.cache_pool> <span class="sig-name descname"><span class=pre>cache_pool</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-ContextResource title="ContextResource (JSON type)"><span class=pre>ContextResource</span></a></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;cache_pool&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.cache_pool title="Permalink to this definition">¶</a></dt> <dd><p>Specifies or references a previously defined <a class="reference internal" href=../../context.html#json-Context.cache_pool title="Context.cache_pool (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.cache_pool</span></code></a>. It is normally more convenient to specify a default <a class="reference internal" href=../../context.html#json-Context.cache_pool title="Context.cache_pool (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>cache_pool</span></code></a> in the <a class="reference internal" href=#json-driver/zarr.context title="driver/zarr.context (JSON member) — Specifies context resources that augment/override the parent context."><code class="xref json json-schema docutils literal notranslate"><span class=pre>context</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.data_copy_concurrency> <span class="sig-name descname"><span class=pre>data_copy_concurrency</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../../context.html#json-ContextResource title="ContextResource (JSON type)"><span class=pre>ContextResource</span></a></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;data_copy_concurrency&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.data_copy_concurrency title="Permalink to this definition">¶</a></dt> <dd><p>Specifies or references a previously defined <a class="reference internal" href=../../context.html#json-Context.data_copy_concurrency title="Context.data_copy_concurrency (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Context.data_copy_concurrency</span></code></a>. It is normally more convenient to specify a default <a class="reference internal" href=../../context.html#json-Context.data_copy_concurrency title="Context.data_copy_concurrency (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>data_copy_concurrency</span></code></a> in the <a class="reference internal" href=#json-driver/zarr.context title="driver/zarr.context (JSON member) — Specifies context resources that augment/override the parent context."><code class="xref json json-schema docutils literal notranslate"><span class=pre>context</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.recheck_cached_metadata> <span class="sig-name descname"><span class=pre>recheck_cached_metadata</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../index.html#json-CacheRevalidationBound title="CacheRevalidationBound (JSON type)"><span class=pre>CacheRevalidationBound</span></a></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;open&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.recheck_cached_metadata title="Permalink to this definition">¶</a></dt> <dd><p>Time after which cached metadata is assumed to be fresh. Cached metadata older than the specified time is revalidated prior to use. The metadata is used to check the bounds of every read or write operation.</p> <p>Specifying <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code> means that the metadata will be revalidated prior to every read or write operation. With the default value of <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;open&quot;</span><span class=w></span></code>, any cached metadata is revalidated when the TensorStore is opened but is not rechecked for each read or write operation.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.recheck_cached_data> <span class="sig-name descname"><span class=pre>recheck_cached_data</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=../index.html#json-CacheRevalidationBound title="CacheRevalidationBound (JSON type)"><span class=pre>CacheRevalidationBound</span></a></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.recheck_cached_data title="Permalink to this definition">¶</a></dt> <dd><p>Time after which cached data is assumed to be fresh. Cached data older than the specified time is revalidated prior to being returned from a read operation. Partial chunk writes are always consistent regardless of the value of this option.</p> <p>The default value of <code class="code highlight json docutils literal highlight-json"><span class=kc>true</span><span class=w></span></code> means that cached data is revalidated on every read. To enable in-memory data caching, you must both specify a <a class="reference internal" href=../../context.html#json-Context.cache_pool title="Context.cache_pool (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>cache_pool</span></code></a> with a non-zero <a class="reference internal" href=../../context.html#json-Context.cache_pool.total_bytes_limit title="Context.cache_pool.total_bytes_limit (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>total_bytes_limit</span></code></a> and also specify <code class="code highlight json docutils literal highlight-json"><span class=kc>false</span><span class=w></span></code>, <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;open&quot;</span><span class=w></span></code>, or an explicit time bound for <a class="reference internal" href=#json-driver/zarr.recheck_cached_data title="driver/zarr.recheck_cached_data (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>recheck_cached_data</span></code></a>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.field> <span class="sig-name descname"><span class=pre>field</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.field title="Permalink to this definition">¶</a></dt> <dd><span><p>Name of field to open.</p> </span><p>Must be specified if the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>metadata.dtype</span></code></a> specified in the array metadata has more than one field.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata> <span class="sig-name descname"><span class=pre>metadata</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr.metadata title="Permalink to this definition">¶</a></dt> <dd><span><p>Zarr array metadata.</p> </span><p>Specifies constraints on the metadata, exactly as in the <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#metadata>.zarray metadata file</a>, except that all members are optional. When creating a new array, the new metadata is obtained by combining these metadata constraints with any <a class="reference internal" href=../../schema.html#json-Schema title="Schema (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema</span></code></a> constraints.</p> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.zarr_format> <span class="sig-name descname"><span class=pre>zarr_format</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>2</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata.zarr_format title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.shape> <span class="sig-name descname"><span class=pre>shape</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><a class=headerlink href=#json-driver/zarr.metadata.shape title="Permalink to this definition">¶</a></dt> <dd><span><p>Chunked dimensions of the array.</p> </span><p>Required when creating a new array if the <a class="reference internal" href=../../schema.html#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.domain</span></code></a> is not otherwise specified.</p> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>[</span><span class=mi>500</span><span class=p>,</span><span class=w> </span><span class=mi>500</span><span class=p>,</span><span class=w> </span><span class=mi>500</span><span class=p>]</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.chunks> <span class="sig-name descname"><span class=pre>chunks</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>array</span></span><em> <span class=pre>of</span> </em><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><a class=headerlink href=#json-driver/zarr.metadata.chunks title="Permalink to this definition">¶</a></dt> <dd><span><p>Chunk dimensions.</p> </span><p>Specifies the chunk size for each chunked dimension. Must have the same length as <a class="reference internal" href=#json-driver/zarr.metadata.shape title="driver/zarr.metadata.shape (JSON member) — Chunked dimensions of the array."><code class="xref json json-schema docutils literal notranslate"><span class=pre>shape</span></code></a>. If not specified when creating a new array, the chunk dimensions are chosen automatically according to the <a class="reference internal" href=../../schema.html#json-Schema.chunk_layout title="Schema.chunk_layout (JSON member) — Data storage layout constraints."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.chunk_layout</span></code></a>.</p> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>[</span><span class=mi>64</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>]</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.dtype> <span class="sig-name descname"><span class=pre>dtype</span></span><a class=headerlink href=#json-driver/zarr.metadata.dtype title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the scalar or structured data type.</p> </span><p>Refer to the <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>Zarr data type encoding specification</a>. As an extension, TensorStore also supports <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;bfloat16&quot;</span><span class=w></span></code> for specifying the <a class="reference external" href=https://en.wikipedia.org/wiki/Bfloat16_floating-point_format>bfloat16</a> data type with little endian byte order.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.fill_value> <span class="sig-name descname"><span class=pre>fill_value</span></span><a class=headerlink href=#json-driver/zarr.metadata.fill_value title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the fill value.</p> </span><p>When creating a new array, defaults to <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.order> <span class="sig-name descname"><span class=pre>order</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;C&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;F&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata.order title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the data layout for encoded chunks.</p> </span><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;C&quot;</span><span class=w></span></code> for C order, <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;F&quot;</span><span class=w></span></code> for Fortran order. When creating a new array, defaults to <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;C&quot;</span><span class=w></span></code>.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.compressor> <span class="sig-name descname"><span class=pre>compressor</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-driver/zarr/Compressor title="driver/zarr/Compressor (JSON type) — Compressor"><span class=pre>driver/zarr/Compressor</span></a></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata.compressor title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the chunk compression method.</p> </span><p>Specifies the chunk compressor. Specifying <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code> disables compression. When creating a new array, if not specified, the default compressor of <code class="code highlight json docutils literal highlight-json"><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>}</span><span class=w></span></code> is used.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.filters> <span class="sig-name descname"><span class=pre>filters</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata.filters title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the filters to apply to chunks.</p> </span><p>When encoding chunk, filters are applied before the compressor. Currently, filters are not supported.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata.dimension_separator> <span class="sig-name descname"><span class=pre>dimension_separator</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;.&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;/&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata.dimension_separator title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the encoding of chunk indices into key-value store keys.</p> </span><p>The default value of <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;.&quot;</span><span class=w></span></code> corresponds to the default encoding used by Zarr, while <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;/&quot;</span><span class=w></span></code> corresponds to the encoding used by <a class="reference external" href=https://zarr.readthedocs.io/en/stable/api/storage.html#zarr.storage.NestedDirectoryStore title="(in zarr v2.6.1)"><code class="xref py py-obj docutils literal notranslate"><span class=pre>zarr.storage.NestedDirectoryStore</span></code></a>.</p> </dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.metadata_key> <span class="sig-name descname"><span class=pre>metadata_key</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;.zarray&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.metadata_key title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the key under which to store the array metadata in JSON format.</p> </span><p>By default, the array metadata is stored under the <code class="docutils literal notranslate"><span class=pre>.zarray</span></code> key as required by the <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#metadata>Zarr storage specification</a>. In rare cases it may be useful to specify a non-default value, e.g. <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zarray&quot;</span><span class=w></span></code> to avoid problems caused by the leading dot. However, be aware that specifying a non-default value breaks compatibility with other zarr implementations.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr.key_encoding> <span class="sig-name descname"><span class=pre>key_encoding</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;.&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;/&quot;</span><span class=w></span></code><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;.&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr.key_encoding title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the encoding of chunk indices into key-value store keys.</p> </span><p>Deprecated. Equivalent to specifying <a class="reference internal" href=#json-driver/zarr.metadata.dimension_separator title="driver/zarr.metadata.dimension_separator (JSON member) — Specifies the encoding of chunk indices into key-value store keys."><code class="xref json json-schema docutils literal notranslate"><span class=pre>metadata.dimension_separator</span></code></a>.</p> </dd></dl> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;driver&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zarr&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;kvstore&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;driver&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;gcs&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;bucket&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;my-bucket&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;path/to/array/&quot;</span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;key_encoding&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;metadata&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span><span class=w> </span><span class=mi>1000</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;chunks&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&lt;i2&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;order&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;C&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;shuffle&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;clevel&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;cname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lz4&quot;</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <h2 id=compressors>Compressors<a class=headerlink href=#compressors title="Permalink to this headline">¶</a></h2> <p>Chunk data is encoded according to the <a class="reference internal" href=#json-driver/zarr.metadata.compressor title="driver/zarr.metadata.compressor (JSON member) — Specifies the chunk compression method."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.compressor</span></code></a> specified in the metadata.</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr/Compressor</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr/Compressor title="Permalink to this definition">¶</a></dt> <dd><span><p>Compressor</p> </span><p>The <a class="reference internal" href=#json-driver/zarr/Compressor.id title="driver/zarr/Compressor.id (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>id</span></code></a> member identifies the compressor. The remaining members are specific to the compressor.</p> <p class=rubric>Subtypes</p> <ul class=simple> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor/blosc title="driver/zarr/Compressor/blosc (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor/blosc</span></code></a></p></li> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor/bz2 title="driver/zarr/Compressor/bz2 (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor/bz2</span></code></a></p></li> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor/zlib title="driver/zarr/Compressor/zlib (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor/zlib</span></code></a></p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor.id> <span class="sig-name descname"><span class=pre>id</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>string</span></span><a class=headerlink href=#json-driver/zarr/Compressor.id title="Permalink to this definition">¶</a></dt> <dd><p>Identifies the compressor.</p> </dd></dl> </dd></dl> <p>The following compressors are supported:</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/zlib> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr/Compressor/zlib</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr/Compressor/zlib title="Permalink to this definition">¶</a></dt> <dd><p>Specifies <a class="reference external" href=https://zlib.net>zlib</a> compression with a zlib or gzip header.</p> <p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor title="driver/zarr/Compressor (JSON type) — Compressor"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor</span></code></a> — Compressor</p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/zlib.id> <span class="sig-name descname"><span class=pre>id</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zlib&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;gzip&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/zlib.id title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/zlib.level> <span class="sig-name descname"><span class=pre>level</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>9</span><span class=w></span></code><span class=p><span class=pre>]</span></span></sub><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/zlib.level title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the zlib compression level to use.</p> </span><p>Level 0 indicates no compression (fastest), while level 9 indicates the best compression ratio (slowest).</p> </dd></dl> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;gzip&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;level&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>9</span><span class=p>}</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/blosc> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr/Compressor/blosc</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr/Compressor/blosc title="Permalink to this definition">¶</a></dt> <dd><p>Specifies <a class="reference external" href=https://github.com/Blosc/c-blosc>Blosc</a> compression.</p> <p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor title="driver/zarr/Compressor (JSON type) — Compressor"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor</span></code></a> — Compressor</p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/blosc.id> <span class="sig-name descname"><span class=pre>id</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;blosc&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/blosc.id title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json sig-wrap" id=json-driver/zarr/Compressor/blosc.cname> <span class="sig-name descname"><span class=pre>cname</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;blosclz&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;lz4&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;lz4hc&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;snappy&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zlib&quot;</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zstd&quot;</span><span class=w></span></code><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;lz4&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/blosc.cname title="Permalink to this definition">¶</a></dt> <dd><p>Specifies the compression method used by Blosc.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/blosc.clevel> <span class="sig-name descname"><span class=pre>clevel</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>9</span><span class=w></span></code><span class=p><span class=pre>]</span></span></sub><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>5</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/blosc.clevel title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the Blosc compression level to use.</p> </span><p>Higher values are slower but achieve a higher compression ratio.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/blosc.shuffle> <span class="sig-name descname"><span class=pre>shuffle</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>2</span><span class=w></span></code><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/blosc.shuffle title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>One of</p> <dl class="json schema objdesc"> <dt class="sig sig-object json"> <code class="code highlight json docutils literal highlight-json"><span class=mi>-1</span><span class=w></span></code></dt> <dd><span><p>Automatic shuffle.</p> </span><p>Bit-wise shuffle if the element size is 1 byte, otherwise byte-wise shuffle.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json"> <code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code></dt> <dd><span><p>No shuffle</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json"> <code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code></dt> <dd><span><p>Byte-wise shuffle</p> </span></dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json"> <code class="code highlight json docutils literal highlight-json"><span class=mi>2</span><span class=w></span></code></dt> <dd><span><p>Bit-wise shuffle</p> </span></dd></dl> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/blosc.blocksize> <span class="sig-name descname"><span class=pre>blocksize</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><span class=o><span class=pre>+∞</span></span><span class=p><span class=pre>)</span></span></sub><a class=headerlink href=#json-driver/zarr/Compressor/blosc.blocksize title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the Blosc blocksize.</p> </span><p>The default value of 0 causes the block size to be chosen automatically.</p> </dd></dl> <div class="example admonition"> <p class=admonition-title>Example</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;cname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosclz&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;clevel&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>9</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;shuffle&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>}</span><span class=w></span>
</code></pre></div> </div> </div> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/bz2> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr/Compressor/bz2</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr/Compressor/bz2 title="Permalink to this definition">¶</a></dt> <dd><p>Specifies <a href=https://sourceware.org/bzip2/ class="reference external">bzip2</a> compression.</p> <p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=#json-driver/zarr/Compressor title="driver/zarr/Compressor (JSON type) — Compressor"><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr/Compressor</span></code></a> — Compressor</p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/bz2.id> <span class="sig-name descname"><span class=pre>id</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;bz2&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/bz2.id title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Compressor/bz2.level> <span class="sig-name descname"><span class=pre>level</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>integer</span></span><sub><span class=p><span class=pre>[</span></span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code><span class=p><span class=pre>,</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>9</span><span class=w></span></code><span class=p><span class=pre>]</span></span></sub><span class=p> <span class=pre>=</span> </span><code class="code highlight json docutils literal highlight-json"><span class=mi>1</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Compressor/bz2.level title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the bzip2 buffer size/compression level to use.</p> </span><p>A level of 1 indicates the smallest buffer (fastest), while level 9 indicates the best compression ratio (slowest).</p> </dd></dl> </dd></dl> <h2 id=mapping-to-tensorstore-schema>Mapping to TensorStore Schema<a class=headerlink href=#mapping-to-tensorstore-schema title="Permalink to this headline">¶</a></h2> <div class="example admonition"> <p class=admonition-title>Example with scalar data type</p> <p>For the following zarr <a class="reference internal" href=#json-driver/zarr.metadata title="driver/zarr.metadata (JSON member) — Zarr array metadata."><code class="xref json json-schema docutils literal notranslate"><span class=pre>metadata</span></code></a>:</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;zarr_format&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span><span class=w> </span><span class=mi>2000</span><span class=p>,</span><span class=w> </span><span class=mi>3000</span><span class=p>],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;chunks&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;fill_value&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>42</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;order&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;C&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> <p>the corresponding <a class="reference internal" href=../../schema.html#json-Schema title="Schema (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema</span></code></a> is:</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;chunk_layout&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;grid_origin&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;inner_order&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;read_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>]},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;write_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>]}</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;codec&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;driver&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zarr&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;domain&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;exclusive_max&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>1000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>3000</span><span class=p>]],</span><span class=w> </span><span class=nt>&quot;inclusive_min&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>]},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;uint16&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;fill_value&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>42</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;rank&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example with <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data type</a></p> <p>For the following zarr <a class="reference internal" href=#json-driver/zarr.metadata title="driver/zarr.metadata (JSON member) — Zarr array metadata."><code class="xref json json-schema docutils literal notranslate"><span class=pre>metadata</span></code></a>:</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;zarr_format&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span><span class=w> </span><span class=mi>2000</span><span class=p>,</span><span class=w> </span><span class=mi>3000</span><span class=p>],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;chunks&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=s2>&quot;x&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>]],</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;y&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;f4&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]]],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;cname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lz4&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;clevel&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;shuffle&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;fill_value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AQACAAMABAAFAAYAAAAgQQAAMEEAAEBBAABQQQAAYEE=&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;order&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;F&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> <p>the corresponding <a class="reference internal" href=../../schema.html#json-Schema title="Schema (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema</span></code></a> for the <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;x&quot;</span><span class=w></span></code> <a class="reference internal" href=#json-driver/zarr.field title="driver/zarr.field (JSON member) — Name of field to open."><code class="xref json json-schema docutils literal notranslate"><span class=pre>field</span></code></a> is:</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;chunk_layout&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;grid_origin&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;inner_order&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;read_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>]},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;write_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>]}</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;codec&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;blocksize&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;clevel&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;cname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lz4&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;shuffle&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;driver&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zarr&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;domain&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;exclusive_max&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>1000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>3000</span><span class=p>],</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;inclusive_min&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>]</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;uint16&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;fill_value&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>]],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;rank&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> <p>and the corresponding <a class="reference internal" href=../../schema.html#json-Schema title="Schema (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema</span></code></a> for the <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;y&quot;</span><span class=w></span></code> <a class="reference internal" href=#json-driver/zarr.field title="driver/zarr.field (JSON member) — Name of field to open."><code class="xref json json-schema docutils literal notranslate"><span class=pre>field</span></code></a> is:</p> <div class="highlight-json notranslate"><div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;chunk_layout&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;grid_origin&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;inner_order&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;read_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;write_chunk&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>300</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>]}</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;codec&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;compressor&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;blocksize&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;clevel&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;cname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;lz4&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;shuffle&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;driver&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zarr&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;domain&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;exclusive_max&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>1000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2000</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>3000</span><span class=p>],</span><span class=w> </span><span class=mi>5</span><span class=p>],</span><span class=w> </span><span class=nt>&quot;inclusive_min&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>]},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;dtype&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;float32&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;fill_value&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=mf>10.0</span><span class=p>,</span><span class=w> </span><span class=mf>11.0</span><span class=p>,</span><span class=w> </span><span class=mf>12.0</span><span class=p>,</span><span class=w> </span><span class=mf>13.0</span><span class=p>,</span><span class=w> </span><span class=mf>14.0</span><span class=p>],</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;rank&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> </div> <h3 id=data-type>Data type<a class=headerlink href=#data-type title="Permalink to this headline">¶</a></h3> <p>Zarr scalar data types map to TensorStore data types as follows:</p> <table class="table-column-align-center docutils data align-default" id=id8> <caption><span class=caption-text>Supported data types</span><a class=headerlink href=#id8 title="Permalink to this table">¶</a></caption> <colgroup> <col style="width: 49%"> <col style="width: 29%"> <col style="width: 23%"> </colgroup> <thead> <tr class=row-odd><th class=head rowspan=2><p>TensorStore data type</p></th> <th class=head colspan=2><p>Zarr data type</p></th> </tr> <tr class=row-even><th class=head><p>Little endian</p></th> <th class=head><p>Big endian</p></th> </tr> </thead> <tbody> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.bool title="dtype.bool (JSON member) — Boolean value (0 or 1)."><code class="xref json json-schema docutils literal notranslate"><span class=pre>bool</span></code></a></p></td> <td colspan=2><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;|b1&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.uint8 title="dtype.uint8 (JSON member) — 8-bit unsigned integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>uint8</span></code></a></p></td> <td colspan=2><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;|u1&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.int8 title="dtype.int8 (JSON member) — 8-bit signed two's-complement integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>int8</span></code></a></p></td> <td colspan=2><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;|i1&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.uint16 title="dtype.uint16 (JSON member) — 16-bit unsigned integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>uint16</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;u2&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.int16 title="dtype.int16 (JSON member) — 16-bit signed two's-complement integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>int16</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;i2&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;i2&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.uint32 title="dtype.uint32 (JSON member) — 32-bit unsigned integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>uint32</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;u2&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.int32 title="dtype.int32 (JSON member) — 32-bit signed two's-complement integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>int32</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;i4&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;i4&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.uint64 title="dtype.uint64 (JSON member) — 64-bit unsigned integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>uint64</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u8&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;u8&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.int64 title="dtype.int64 (JSON member) — 64-bit signed two's-complement integer."><code class="xref json json-schema docutils literal notranslate"><span class=pre>int64</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;i8&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;i8&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.float16 title="dtype.float16 (JSON member) — IEEE 754 binary16 half-precision floating-point number."><code class="xref json json-schema docutils literal notranslate"><span class=pre>float16</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;f2&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;f2&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.bfloat16 title="dtype.bfloat16 (JSON member) — bfloat16 floating-point format number."><code class="xref json json-schema docutils literal notranslate"><span class=pre>bfloat16</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;bfloat16&quot;</span><span class=w></span></code></p></td> <td></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.float32 title="dtype.float32 (JSON member) — IEEE 754 binary32 single-precision floating-point number."><code class="xref json json-schema docutils literal notranslate"><span class=pre>float32</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;f4&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;f4&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.float64 title="dtype.float64 (JSON member) — IEEE 754 binary64 double-precision floating-point number."><code class="xref json json-schema docutils literal notranslate"><span class=pre>float64</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;f8&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;f8&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-even><td><p><a class="reference internal" href=../../spec.html#json-dtype.complex64 title="dtype.complex64 (JSON member) — Complex number, where the real and imaginary components are each represented by a float32."><code class="xref json json-schema docutils literal notranslate"><span class=pre>complex64</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;c8&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;c8&quot;</span><span class=w></span></code></p></td> </tr> <tr class=row-odd><td><p><a class="reference internal" href=../../spec.html#json-dtype.complex128 title="dtype.complex128 (JSON member) — Complex number, where the real and imaginary components are each represented by a float64."><code class="xref json json-schema docutils literal notranslate"><span class=pre>complex128</span></code></a></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;c16&quot;</span><span class=w></span></code></p></td> <td><p><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&gt;c16&quot;</span><span class=w></span></code></p></td> </tr> </tbody> </table> <p>Zarr <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data types</a> are supported, but are represented in TensorStore as scalar arrays with additional dimensions.</p> <p>When creating a new array, if a <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is not specified explicitly, a scalar Zarr data type with the native endianness is chosen based on the <a class="reference internal" href=../../schema.html#json-Schema.dtype title="Schema.dtype (JSON member) — Specifies the data type of the TensorStore."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.dtype</span></code></a>. To create an array with non-native endianness or a <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data type</a>, the zarr <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> must be specified explicitly.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>TensorStore supports the non-standard <a class="reference external" href=https://en.wikipedia.org/wiki/Bfloat16_floating-point_format>bfloat16</a> data type as an extension. On little endian platforms, the official <a class="reference external" href=https://github.com/zarr-developers/zarr-python>Zarr Python library</a> is capable of reading arrays created with the <code class="docutils literal notranslate"><span class=pre>bfloat16</span></code> data type provided that a bfloat16 numpy data type has been registered. The TensorStore Python library registers such a data type, as does TensorFlow and JAX.</p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>zarr datetime/timedelta data types are not currently supported.</p> </div> <h3 id=domain>Domain<a class=headerlink href=#domain title="Permalink to this headline">¶</a></h3> <p>The <a class="reference internal" href=../../schema.html#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.domain</span></code></a> includes both the chunked dimensions as well as any <em>subarray</em> dimensions in the case of a <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data type</a>.</p> <div class="example admonition"> <p class=admonition-title>Example with scalar data type</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code> and the <a class="reference internal" href=#json-driver/zarr.metadata.shape title="driver/zarr.metadata.shape (JSON member) — Chunked dimensions of the array."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.shape</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>]</span><span class=w></span></code>, then the <a class="reference internal" href=../../schema.html#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.domain</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>100</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>200</span><span class=p>]]}</span><span class=w></span></code>.</p> </div> <div class="example admonition"> <p class=admonition-title>Example with structured data type</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[[</span><span class=s2>&quot;x&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w></span> <span class=mi>3</span><span class=p>]]]</span><span class=w></span></code>, and the <a class="reference internal" href=#json-driver/zarr.metadata.shape title="driver/zarr.metadata.shape (JSON member) — Chunked dimensions of the array."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.shape</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w></span> <span class=mi>200</span><span class=p>]</span><span class=w></span></code>, then the <a class="reference internal" href=../../schema.html#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.domain</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>{</span><span class=nt>&quot;shape&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[[</span><span class=mi>100</span><span class=p>],</span><span class=w></span> <span class=p>[</span><span class=mi>200</span><span class=p>],</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>]}</span><span class=w></span></code>.</p> </div> <p>As zarr does not natively support a non-zero origin, the underlying domain always has a zero origin (<a class="reference internal" href=../../index_space.html#json-IndexDomain.inclusive_min title="IndexDomain.inclusive_min (JSON member) — Inclusive lower bounds of the domain."><code class="xref json json-schema docutils literal notranslate"><span class=pre>IndexDomain.inclusive_min</span></code></a> is all zero), but it may be translated by the <a class="reference internal" href=../../spec.html#json-TensorStore.transform title="TensorStore.transform (JSON member) — Specifies a transform."><code class="xref json json-schema docutils literal notranslate"><span class=pre>transform</span></code></a>.</p> <p>The upper bounds of the chunked dimensions are resizable (i.e. <cite>implicit&lt;implicit-bounds&gt;</cite>), while the upper bounds of any subarray dimensions are not resizable.</p> <p>The zarr metadata format does not support persisting <cite>dimension labels&lt;dimension-labels&gt;</cite>, but dimension labels may still be specified when opening using a <a class="reference internal" href=../../spec.html#json-TensorStore.transform title="TensorStore.transform (JSON member) — Specifies a transform."><code class="xref json json-schema docutils literal notranslate"><span class=pre>transform</span></code></a>.</p> <h3 id=chunk-layout>Chunk layout<a class=headerlink href=#chunk-layout title="Permalink to this headline">¶</a></h3> <p>The zarr format supports a single <a class="reference internal" href=#json-driver/zarr.metadata.chunks title="driver/zarr.metadata.chunks (JSON member) — Chunk dimensions."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.chunks</span></code></a> property that corresponds to the <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.shape</span></code></a> constraint. As with the <a class="reference internal" href=../../schema.html#json-Schema.domain title="Schema.domain (JSON member) — Domain of the TensorStore, including bounds and optional dimension labels."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.domain</span></code></a>, the <a class="reference internal" href=../../schema.html#json-Schema.chunk_layout title="Schema.chunk_layout (JSON member) — Data storage layout constraints."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.chunk_layout</span></code></a> includes both the chunked dimensions as well as any subarray dimensions in the case of a <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data type</a>. The chunk size for subarray dimensions is always the full extent.</p> <div class="example admonition"> <p class=admonition-title>Example with scalar data type</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code> and <a class="reference internal" href=#json-driver/zarr.metadata.chunks title="driver/zarr.metadata.chunks (JSON member) — Chunk dimensions."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.chunks</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>]</span><span class=w></span></code>, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.shape</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>]</span><span class=w></span></code>.</p> </div> <div class="example admonition"> <p class=admonition-title>Example with structured data type</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[[</span><span class=s2>&quot;x&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w></span> <span class=mi>3</span><span class=p>]]]</span><span class=w></span></code>, and <a class="reference internal" href=#json-driver/zarr.metadata.chunks title="driver/zarr.metadata.chunks (JSON member) — Chunk dimensions."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.chunks</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>]</span><span class=w></span></code>, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.shape</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>]</span><span class=w></span></code>.</p> </div> <p>As the zarr format supports only a single level of chunking, the <a class="reference internal" href=../../schema.html#json-ChunkLayout.read_chunk title="ChunkLayout.read_chunk (JSON member) — Constraints on the chunk grid over which reads may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.read_chunk</span></code></a> and <a class="reference internal" href=../../schema.html#json-ChunkLayout.write_chunk title="ChunkLayout.write_chunk (JSON member) — Constraints on the chunk grid over which writes may be efficiently partitioned."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.write_chunk</span></code></a> constraints are combined, and hard constraints on <a class="reference internal" href=../../schema.html#json-ChunkLayout.codec_chunk title="ChunkLayout.codec_chunk (JSON member) — Constraints on the chunk grid used by the codec, if applicable."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.codec_chunk</span></code></a> must not be specified.</p> <p>The <a class="reference internal" href=../../schema.html#json-ChunkLayout.grid_origin title="ChunkLayout.grid_origin (JSON member) — Specifies hard constraints on the origin of the chunk grid."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.grid_origin</span></code></a> is always all-zero.</p> <p>The <a class="reference internal" href=../../schema.html#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.inner_order</span></code></a> corresponds to <a class="reference internal" href=#json-driver/zarr.metadata.order title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.order</span></code></a>, but also includes the subarray dimensions, which are always the inner-most dimensions.</p> <div class="example admonition"> <p class=admonition-title>Example with scalar data type and C order</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code>, <a class="reference internal" href=#json-driver/zarr.metadata.order title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;C&quot;</span><span class=w></span></code>, and there are 3 chunked dimensions, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.inner_order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>]</span><span class=w></span></code>.</p> </div> <div class="example admonition"> <p class=admonition-title>Example with scalar data type and Fortran order</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;&lt;u2&quot;</span><span class=w></span></code>, <a class="reference internal" href=#json-driver/zarr.metadata.order title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;F&quot;</span><span class=w></span></code>, and there are 3 chunked dimensions, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.inner_order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>]</span><span class=w></span></code>.</p> </div> <div class="example admonition"> <p class=admonition-title>Example with structured data type and C order</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[[</span><span class=s2>&quot;x&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w></span> <span class=mi>3</span><span class=p>]]]</span><span class=w></span></code>, <a class="reference internal" href=#json-driver/zarr.metadata.order title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;C&quot;</span><span class=w></span></code>, and there are 3 chunked dimensions, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.inner_order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>]</span><span class=w></span></code>.</p> </div> <div class="example admonition"> <p class=admonition-title>Example with structured data type and Fortran order</p> <p>If the <a class="reference internal" href=#json-driver/zarr.metadata.dtype title="driver/zarr.metadata.dtype (JSON member) — Specifies the scalar or structured data type."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.dtype</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[[</span><span class=s2>&quot;x&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;&lt;u2&quot;</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w></span> <span class=mi>3</span><span class=p>]]]</span><span class=w></span></code>, <a class="reference internal" href=#json-driver/zarr.metadata.order title="driver/zarr.metadata.order (JSON member) — Specifies the data layout for encoded chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;F&quot;</span><span class=w></span></code>, and there are 3 chunked dimensions, then the <a class="reference internal" href=../../schema.html#json-ChunkLayout.inner_order title="ChunkLayout.inner_order (JSON member) — Permutation specifying the element storage order within the innermost chunks."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout.inner_order</span></code></a> is <code class="code highlight json docutils literal highlight-json"><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>]</span><span class=w></span></code>.</p> </div> <h4 id=selection-of-chunk-layout-when-creating-a-new-array>Selection of chunk layout when creating a new array<a class=headerlink href=#selection-of-chunk-layout-when-creating-a-new-array title="Permalink to this headline">¶</a></h4> <p>When creating a new array, the chunk sizes may be specified explicitly via <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.shape title="ChunkLayout/Grid.shape (JSON member) — Hard constraints on the chunk size for each dimension."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.shape</span></code></a> or implicitly via <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.aspect_ratio title="ChunkLayout/Grid.aspect_ratio (JSON member) — Aspect ratio of the chunk shape."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.aspect_ratio</span></code></a> and <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.elements</span></code></a>. In the latter case, a suitable chunk shape is chosen automatically. If <a class="reference internal" href=../../schema.html#json-ChunkLayout/Grid.elements title="ChunkLayout/Grid.elements (JSON member) — Preferred number of elements per chunk."><code class="xref json json-schema docutils literal notranslate"><span class=pre>ChunkLayout/Grid.elements</span></code></a> is not specified, the default is 1 million elements per chunk:</p> <div class="example admonition"> <p class=admonition-title>Example of unconstrained chunk layout</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>({</span>
<span class=gp>... </span>    <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>    <span class=p>}</span>
<span class=gp>... </span><span class=p>},</span>
<span class=gp>... </span>        <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>uint16</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>])</span><span class=o>.</span><span class=n>result</span><span class=p>()</span><span class=o>.</span><span class=n>chunk_layout</span>
<span class=go>ChunkLayout({</span>
<span class=go>  &#39;grid_origin&#39;: [0, 0, 0],</span>
<span class=go>  &#39;inner_order&#39;: [0, 1, 2],</span>
<span class=go>  &#39;read_chunk&#39;: {&#39;shape&#39;: [102, 102, 102]},</span>
<span class=go>  &#39;write_chunk&#39;: {&#39;shape&#39;: [102, 102, 102]},</span>
<span class=go>})</span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example of explicit chunk shape constraint</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>({</span>
<span class=gp>... </span>    <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>    <span class=p>}</span>
<span class=gp>... </span><span class=p>},</span>
<span class=gp>... </span>        <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>uint16</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span>
<span class=gp>... </span>            <span class=n>chunk_shape</span><span class=o>=</span><span class=p>[</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=mi>300</span><span class=p>]))</span><span class=o>.</span><span class=n>result</span><span class=p>()</span><span class=o>.</span><span class=n>chunk_layout</span>
<span class=go>ChunkLayout({</span>
<span class=go>  &#39;grid_origin&#39;: [0, 0, 0],</span>
<span class=go>  &#39;inner_order&#39;: [0, 1, 2],</span>
<span class=go>  &#39;read_chunk&#39;: {&#39;shape&#39;: [100, 200, 300]},</span>
<span class=go>  &#39;write_chunk&#39;: {&#39;shape&#39;: [100, 200, 300]},</span>
<span class=go>})</span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example of chunk aspect ratio constraint</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>({</span>
<span class=gp>... </span>    <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>    <span class=p>}</span>
<span class=gp>... </span><span class=p>},</span>
<span class=gp>... </span>        <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>uint16</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span>
<span class=gp>... </span>            <span class=n>chunk_aspect_ratio</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>]))</span><span class=o>.</span><span class=n>result</span><span class=p>()</span><span class=o>.</span><span class=n>chunk_layout</span>
<span class=go>ChunkLayout({</span>
<span class=go>  &#39;grid_origin&#39;: [0, 0, 0],</span>
<span class=go>  &#39;inner_order&#39;: [0, 1, 2],</span>
<span class=go>  &#39;read_chunk&#39;: {&#39;shape&#39;: [64, 128, 128]},</span>
<span class=go>  &#39;write_chunk&#39;: {&#39;shape&#39;: [64, 128, 128]},</span>
<span class=go>})</span>
</code></pre></div> </div> </div> <div class="example admonition"> <p class=admonition-title>Example of chunk aspect ratio and elements constraint</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>ts</span><span class=o>.</span><span class=n>open</span><span class=p>({</span>
<span class=gp>... </span>    <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;zarr&#39;</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s1>&#39;kvstore&#39;</span><span class=p>:</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s1>&#39;driver&#39;</span><span class=p>:</span> <span class=s1>&#39;memory&#39;</span>
<span class=gp>... </span>    <span class=p>}</span>
<span class=gp>... </span><span class=p>},</span>
<span class=gp>... </span>        <span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>uint16</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>shape</span><span class=o>=</span><span class=p>[</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>],</span>
<span class=gp>... </span>        <span class=n>chunk_layout</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>ChunkLayout</span><span class=p>(</span>
<span class=gp>... </span>            <span class=n>chunk_aspect_ratio</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>            <span class=n>chunk_elements</span><span class=o>=</span><span class=mi>2000000</span><span class=p>))</span><span class=o>.</span><span class=n>result</span><span class=p>()</span><span class=o>.</span><span class=n>chunk_layout</span>
<span class=go>ChunkLayout({</span>
<span class=go>  &#39;grid_origin&#39;: [0, 0, 0],</span>
<span class=go>  &#39;inner_order&#39;: [0, 1, 2],</span>
<span class=go>  &#39;read_chunk&#39;: {&#39;shape&#39;: [79, 159, 159]},</span>
<span class=go>  &#39;write_chunk&#39;: {&#39;shape&#39;: [79, 159, 159]},</span>
<span class=go>})</span>
</code></pre></div> </div> </div> <h3 id=codec>Codec<a class=headerlink href=#codec title="Permalink to this headline">¶</a></h3> <p>Within the <a class="reference internal" href=../../schema.html#json-Schema.codec title="Schema.codec (JSON member)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.codec</span></code></a>, the compression parameters are represented in the same way as in the <a class="reference internal" href=#json-driver/zarr.metadata title="driver/zarr.metadata (JSON member) — Zarr array metadata."><code class="xref json json-schema docutils literal notranslate"><span class=pre>metadata</span></code></a>:</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Codec> <em class=property><span class=pre>json</span> </em><span class="sig-name descname"><span class=pre>driver/zarr/Codec</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><span class=pre>object</span></span><a class=headerlink href=#json-driver/zarr/Codec title="Permalink to this definition">¶</a></dt> <dd><p class=rubric>Extends</p> <ul class=simple> <li><p><a class="reference internal" href=../../schema.html#json-Codec title="Codec (JSON type)"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Codec</span></code></a></p></li> </ul> <p class=rubric>Required members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Codec.driver> <span class="sig-name descname"><span class=pre>driver</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=s2>&quot;zarr&quot;</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Codec.driver title="Permalink to this definition">¶</a></dt> <dd></dd></dl> <p class=rubric>Optional members</p> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Codec.compressor> <span class="sig-name descname"><span class=pre>compressor</span></span><span class=p> <span class=pre>:</span> </span><span class=desctype><a class="reference internal" href=#json-driver/zarr/Compressor title="driver/zarr/Compressor (JSON type) — Compressor"><span class=pre>driver/zarr/Compressor</span></a></span><span class=p> <span class=pre>|</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Codec.compressor title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the chunk compression method.</p> </span><p>Specifies the chunk compressor. Specifying <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code> disables compression. When creating a new array, if not specified, the default compressor of <code class="code highlight json docutils literal highlight-json"><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blosc&quot;</span><span class=p>}</span><span class=w></span></code> is used.</p> </dd></dl> <dl class="json schema objdesc"> <dt class="sig sig-object json" id=json-driver/zarr/Codec.filters> <span class="sig-name descname"><span class=pre>filters</span></span><span class=p> <span class=pre>:</span> </span><code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code><a class=headerlink href=#json-driver/zarr/Codec.filters title="Permalink to this definition">¶</a></dt> <dd><span><p>Specifies the filters to apply to chunks.</p> </span><p>When encoding chunk, filters are applied before the compressor. Currently, filters are not supported.</p> </dd></dl> </dd></dl> <p>It is an error to specify any other <a class="reference internal" href=../../schema.html#json-Codec.driver title="Codec.driver (JSON member) — Driver identifier"><code class="xref json json-schema docutils literal notranslate"><span class=pre>Codec.driver</span></code></a>.</p> <h3 id=fill-value>Fill value<a class=headerlink href=#fill-value title="Permalink to this headline">¶</a></h3> <p>For scalar zarr data types, the <a class="reference internal" href=../../schema.html#json-Schema.fill_value title="Schema.fill_value (JSON member) — Fill value to use for missing data."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.fill_value</span></code></a> must be a scalar (rank 0). For <a class="reference external" href=https://zarr.readthedocs.io/en/stable/spec/v2.html#data-type-encoding>structured data types</a>, the <a class="reference internal" href=../../schema.html#json-Schema.fill_value title="Schema.fill_value (JSON member) — Fill value to use for missing data."><code class="xref json json-schema docutils literal notranslate"><span class=pre>Schema.fill_value</span></code></a> must be broadcastable to the subarray shape.</p> <p>As an optimization, chunks that are entirely equal to the fill value are not stored.</p> <p>The zarr format allows the fill value to be unspecified, indicated by a <a class="reference internal" href=#json-driver/zarr.metadata.fill_value title="driver/zarr.metadata.fill_value (JSON member) — Specifies the fill value."><code class="xref json json-schema docutils literal notranslate"><span class=pre>driver/zarr.metadata.fill_value</span></code></a> of <code class="code highlight json docutils literal highlight-json"><span class=kc>null</span><span class=w></span></code>. In that case, TensorStore always uses a fill value of <code class="code highlight json docutils literal highlight-json"><span class=mi>0</span><span class=w></span></code>. However, in this case explicitly-written all-zero chunks are still stored.</p> <h2 id=limitations>Limitations<a class=headerlink href=#limitations title="Permalink to this headline">¶</a></h2> <p>Filters are not supported.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-up width=24 height=24 viewbox="0 0 24 24"><path d=M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z /></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../image/png/index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: png Driver" rel=prev> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> png Driver </div> </div> </a> <a href=../n5/index.html class="md-footer__link md-footer__link--next" aria-label="Next: n5 Driver" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> n5 Driver </div> </div> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-right width=24 height=24 viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "navigation.sections", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=../../_static/javascripts/bundle.js></script> <script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script> </body> </html>