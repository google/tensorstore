<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../_static/logo.svg><title>tensorstore.DimExpression.__getitem__ - TensorStore</title><link rel=stylesheet href=../../_static/stylesheets/main.css><link rel=stylesheet href=../../_static/stylesheets/palette.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>
          :root {
            --md-text-font-family: "Roboto";
            --md-code-font-family: "Roboto Mono";
          }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue> <script>

  /* Prepend the base path to the given key to ensure uniqueness */
  function __prefix(key) {
    var prefix = new URL("../..", location)
    return prefix.pathname + "." + key
  }

  /* Fetch the given key from the given storage */
  function __get(key, storage = localStorage) {
    return JSON.parse(storage.getItem(__prefix(key)))
  }
</script> <script>
  var palette = __get("__palette")
  if (palette !== null && typeof palette.color === "object")
    for (var key in palette.color)
      document.body.setAttribute("data-md-color-" + key, palette.color[key])
</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=TensorStore class="md-header__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-menu width=24 height=24 viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TensorStore </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> tensorstore.DimExpression.__getitem__ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-lightbulb-outline width=24 height=24 viewbox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-magnify width=24 height=24 viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-close width=24 height=24 viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=TensorStore class="md-nav__button md-logo" aria-label=TensorStore data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 132.0 132.0"><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=2.0 x2=130.8 y2=2.0 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=16.2 x2=130.8 y2=16.2 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=30.4 x2=130.8 y2=30.4 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=44.7 x2=130.8 y2=44.7 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=58.9 x2=130.8 y2=58.9 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=73.1 x2=130.8 y2=73.1 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=87.3 x2=130.8 y2=87.3 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=101.6 x2=130.8 y2=101.6 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=115.8 x2=130.8 y2=115.8 /><line stroke=currentColor stroke-width=1.5 x1=1.25 y1=130.0 x2=130.8 y2=130.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=2.0 y2=130.0 x2=2.0 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=16.2 y2=130.0 x2=16.2 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=30.4 y2=130.0 x2=30.4 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=44.7 y2=130.0 x2=44.7 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=58.9 y2=130.0 x2=58.9 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=73.1 y2=130.0 x2=73.1 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=87.3 y2=130.0 x2=87.3 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=101.6 y2=130.0 x2=101.6 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=115.8 y2=130.0 x2=115.8 /><line stroke=currentColor stroke-width=1.5 y1=2 x1=130.0 y2=130.0 x2=130.0 /><rect fill=currentColor x=3.5 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=17.7 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=46.2 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=3.5 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=17.7 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=31.9 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=46.2 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=60.4 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=74.6 width=11.2 height=11.2 /><rect fill=currentColor x=31.9 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=88.8 width=11.2 height=11.2 /><rect fill=currentColor x=60.4 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=117.3 y=103.1 width=11.2 height=11.2 /><rect fill=currentColor x=74.6 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=88.8 y=117.3 width=11.2 height=11.2 /><rect fill=currentColor x=103.1 y=117.3 width=11.2 height=11.2 /></svg> </a> TensorStore </label> <div class=md-nav__source> <a href=https://github.com/google/tensorstore/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> google/tensorstore </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> <a class href=../tutorial.html>Python API</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python API" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial.html class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../indexing.html class=md-nav__link> Indexing </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3 type=checkbox id=__nav_1_3 checked> <label class=md-nav__link for=__nav_1_3> <a class href=index.html>API reference</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="API reference" data-md-level=2> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> API reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=index.html#core class=md-nav__link> Core </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3_2 type=checkbox id=__nav_1_3_2 checked> <label class=md-nav__link for=__nav_1_3_2> <a class href=index.html#indexing>Indexing</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Indexing data-md-level=3> <label class=md-nav__title for=__nav_1_3_2> <span class="md-nav__icon md-icon"></span> Indexing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=tensorstore.inf.html class=md-nav__link> <span aria-label="Python data" class="objinfo-icon objinfo-icon__alias" title="Python data">V</span><span title="tensorstore.inf (Python data) — Special constant equal to 2^{62}-1 that indicates an unbounded index domain.">inf</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.IndexDomain.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.IndexDomain (Python class) — Domain (including bounds and optional dimension labels) of an N-dimensional index space.">IndexDomain</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.IndexTransform.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.IndexTransform (Python class) — Represents a transform from an input index space to an output space.">IndexTransform</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.Dim.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.Dim (Python class) — 1-d index interval with optionally-implicit bounds and dimension label.">Dim</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.OutputIndexMap.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.OutputIndexMap (Python class) — Represents an output index map for an index transform.">OutputIndexMap</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.OutputIndexMaps.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.OutputIndexMaps (Python class) — View of the output index maps for an index transform.">OutputIndexMaps</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.OutputIndexMethod.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.OutputIndexMethod (Python class) — Indicates the output index method of an OutputIndexMap.">OutputIndexMethod</span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3_2_8 type=checkbox id=__nav_1_3_2_8 checked> <label class=md-nav__link for=__nav_1_3_2_8> <a class href=tensorstore.DimExpression.html><span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.DimExpression (Python class) — Specifies an advanced indexing operation.">DimExpression</span></a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=DimExpression data-md-level=4> <label class=md-nav__title for=__nav_1_3_2_8> <span class="md-nav__icon md-icon"></span> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.DimExpression (Python class) — Specifies an advanced indexing operation.">DimExpression</span> </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3_2_8_1 type=checkbox id=__nav_1_3_2_8_1 checked> <label class=md-nav__link for=__nav_1_3_2_8_1> <a class href=tensorstore.DimExpression.html#operations>Operations</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Operations data-md-level=5> <label class=md-nav__title for=__nav_1_3_2_8_1> <span class="md-nav__icon md-icon"></span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.__getitem__ (Python method) — Applies a NumPy-style indexing operation with default index array semantics.">__getitem__</span> <span class="md-nav__icon md-icon"></span> </label> <a href class="md-nav__link md-nav__link--active"> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.__getitem__ (Python method) — Applies a NumPy-style indexing operation with default index array semantics.">__getitem__</span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.__getitem__ (Python method) — Applies a NumPy-style indexing operation with default index array semantics.">__getitem__</span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#returns class=md-nav__link> Returns </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#integer-indexing class=md-nav__link> Integer indexing </a> </li> <li class=md-nav__item> <a href=#interval-indexing class=md-nav__link> Interval indexing </a> </li> <li class=md-nav__item> <a href=#adding-singleton-dimensions class=md-nav__link> Adding singleton dimensions </a> </li> <li class=md-nav__item> <a href=#ellipsis class=md-nav__link> Ellipsis </a> </li> <li class=md-nav__item> <a href=#integer-array-indexing class=md-nav__link> Integer array indexing </a> </li> <li class=md-nav__item> <a href=#boolean-array-indexing class=md-nav__link> Boolean array indexing </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.oindex.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.oindex (Python method) — Applies a NumPy-style indexing operation with outer indexing semantics.">oindex</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.vindex.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.vindex (Python method) — Applies a NumPy-style indexing operation with vectorized indexing semantics.">vindex</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.translate_to.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.translate_to (Python method) — Translates the domains of the selected input dimensions to the specified
origins without affecting the output range.">translate_to</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.translate_by.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.translate_by (Python method) — Translates (shifts) the domains of the selected input dimensions by the
specified offsets, without affecting the output range.">translate_by</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.translate_backward_by.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.translate_backward_by (Python method) — Translates (shifts) the domains of the selected input dimensions backward by the
specified offsets, without affecting the output range.">translate_backward_by</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.stride.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.stride (Python method) — Strides the domains of the selected input dimensions by the specified amounts.">stride</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.transpose.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.transpose (Python method) — Transposes the selected dimensions to the specified target indices.">transpose</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.label.html class=md-nav__link> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.label (Python method) — Sets (or changes) the labels of the selected dimensions.">label</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.DimExpression.diagonal.html class=md-nav__link> <span aria-label="Python property" class="objinfo-icon objinfo-icon__alias" title="Python property">P</span><span title="tensorstore.DimExpression.diagonal (Python property) — Extracts the diagonal of the selected dimensions.">diagonal</span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=tensorstore.d.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.d (Python class) — Specifies a dimension selection, for starting a dimension expression.">d</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.newaxis.html class=md-nav__link> <span aria-label="Python data" class="objinfo-icon objinfo-icon__alias" title="Python data">V</span><span title="tensorstore.newaxis (Python data) — Alias for None used in indexing expressions to specify a new singleton dimension.">newaxis</span> </a> </li> <li class=md-nav__item> <a href=tensorstore.Indexable.html class=md-nav__link> <span aria-label="Python class" class="objinfo-icon objinfo-icon__data" title="Python class">C</span><span title="tensorstore.Indexable (Python class) — Abstract base class for types that support TensorStore indexing operations.">Indexable</span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=index.html#spec class=md-nav__link> Spec </a> </li> <li class=md-nav__item> <a href=index.html#views class=md-nav__link> Views </a> </li> <li class=md-nav__item> <a href=index.html#data-types class=md-nav__link> Data types </a> </li> <li class=md-nav__item> <a href=index.html#asynchronous-support class=md-nav__link> Asynchronous support </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> <a class href=../../installation.html>Setup</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation.html class=md-nav__link> Building and Installing </a> </li> <li class=md-nav__item> <a href=../../environment.html class=md-nav__link> Environment variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 data-md-state=indeterminate type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> <a class href=../../spec.html>JSON</a> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JSON data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> JSON </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../spec.html class=md-nav__link> JSON Spec </a> </li> <li class=md-nav__item> <a href=../../index_space.html class=md-nav__link> Index space </a> </li> <li class=md-nav__item> <a href=../../schema.html class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=../../context.html class=md-nav__link> Context framework </a> </li> <li class=md-nav__item> <a href=../../driver/index.html class=md-nav__link> Drivers </a> </li> <li class=md-nav__item> <a href=../../kvstore/index.html class=md-nav__link> Key-Value Storage Layer </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> <span aria-label="Python method" class="objinfo-icon objinfo-icon__procedure" title="Python method">M</span><span title="tensorstore.DimExpression.__getitem__ (Python method) — Applies a NumPy-style indexing operation with default index array semantics.">__getitem__</span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#returns class=md-nav__link> Returns </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#integer-indexing class=md-nav__link> Integer indexing </a> </li> <li class=md-nav__item> <a href=#interval-indexing class=md-nav__link> Interval indexing </a> </li> <li class=md-nav__item> <a href=#adding-singleton-dimensions class=md-nav__link> Adding singleton dimensions </a> </li> <li class=md-nav__item> <a href=#ellipsis class=md-nav__link> Ellipsis </a> </li> <li class=md-nav__item> <a href=#integer-array-indexing class=md-nav__link> Integer array indexing </a> </li> <li class=md-nav__item> <a href=#boolean-array-indexing class=md-nav__link> Boolean array indexing </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset" role=main> <dl class="py method objdesc"> <dt class="sig sig-object py sig-wrap"> <em class=property> </em><span class="sig-prename descclassname"><span class=pre>tensorstore.</span><span class=pre>DimExpression.</span></span><span class="sig-name descname"><span class=pre>__getitem__</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>self</span></span></em>, <em class=sig-param><span class=n><span class=pre>indices</span></span><span class=p><span class=pre>:</span></span> <span class=n><span class=desctype><a class="reference internal" href=../indexing.html#python-numpy-style-indexing><span class="std std-ref"><span class=pre>NumpyIndexingSpec</span></span></a></span></span></em><span class=sig-paren>)</span> <span class=sig-return><span class=sig-return-icon>&#x2192;</span> <span class=sig-return-typehint><span class=desctype><a class="reference internal" href=tensorstore.DimExpression.html title="tensorstore.DimExpression (Python class) — Specifies an advanced indexing operation."><span class=pre>DimExpression</span></a></span></span></span></dt> <dd><p>Applies a <a class="reference internal" href=../indexing.html#python-dim-expression-numpy-indexing><span class="std std-ref">NumPy-style indexing operation</span></a> with default index array semantics.</p> <p>When using NumPy-style indexing with a dimension expression, all selected dimensions must be consumed by a term of the indexing spec; there is no implicit addition of an <a class="reference external" href=https://docs.python.org/3/library/constants.html#Ellipsis title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>Ellipsis</span></code></a> term to consume any remaining dimensions.</p> <dl class="field-list simple"> <dt class=field-odd id=returns>Returns<a class=headerlink href=#returns title="Permalink to this headline">¶</a></dt> <dd class=field-odd><p>Dimension expression with the indexing operation added.</p> </dd> </dl> <h2 id=examples>Examples<a class=headerlink href=#examples title="Permalink to this headline">¶</a></h2> <h3 id=integer-indexing><a class="reference internal" href=../indexing.html#python-indexing-integer><span class="std std-ref">Integer indexing</span></a><a class=headerlink href=#integer-indexing title="Permalink to this headline">¶</a></h3> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>IndexTransform</span><span class=p>(</span><span class=n>input_labels</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>]]</span>
<span class=go>Rank 2 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 5</span>
<span class=go>    out[1] = 0 + 1 * in[0]</span>
<span class=go>    out[2] = 0 + 1 * in[1]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=go>Rank 1 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 5</span>
<span class=go>    out[1] = 0 + 1 * in[0]</span>
<span class=go>    out[2] = 6</span>
</code></pre></div> </div> <p>A single scalar index term applies to all selected dimensions:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>]]</span>
<span class=go>Rank 1 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 5</span>
<span class=go>    out[1] = 5</span>
<span class=go>    out[2] = 0 + 1 * in[0]</span>
</code></pre></div> </div> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-integer><span class="std std-ref">Integer indexing</span></a></p> </div> <h3 id=interval-indexing><a class="reference internal" href=../indexing.html#python-indexing-interval><span class="std std-ref">Interval indexing</span></a><a class=headerlink href=#interval-indexing title="Permalink to this headline">¶</a></h3> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>IndexTransform</span><span class=p>(</span><span class=n>input_labels</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>:</span><span class=mi>10</span><span class=p>]]</span>
<span class=go>Rank 3 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [5, 10) &quot;x&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    2: (-inf*, +inf*) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>:</span><span class=mi>30</span><span class=p>]]</span>
<span class=go>Rank 3 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [5, 10) &quot;x&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    2: [20, 30) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
</code></pre></div> </div> <p>As an extension, TensorStore allows the <code class="docutils literal notranslate"><span class=pre>start</span></code>, <code class="docutils literal notranslate"><span class=pre>stop</span></code>, and <code class="docutils literal notranslate"><span class=pre>step</span></code> <a class="reference external" href=https://docs.python.org/3/library/functions.html#slice title="(in Python v3.9)"><code class="docutils literal notranslate"><span class=pre>slice</span></code></a> terms to be vectors rather than scalars:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>20</span><span class=p>]:[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>]]]</span>
<span class=go>Rank 3 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [5, 10) &quot;x&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    2: [20, 30) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>20</span><span class=p>]:</span><span class=mi>30</span><span class=p>]]</span>
<span class=go>Rank 3 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [5, 30) &quot;x&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    2: [20, 30) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
</code></pre></div> </div> <p>As with integer indexing, a single scalar slice applies to all selected dimensions:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][</span><span class=mi>5</span><span class=p>:</span><span class=mi>30</span><span class=p>]]</span>
<span class=go>Rank 3 -&gt; 3 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [5, 30) &quot;x&quot;</span>
<span class=go>    1: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    2: [5, 30) &quot;z&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
</code></pre></div> </div> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-interval><span class="std std-ref">Interval indexing</span></a></p> </div> <h3 id=adding-singleton-dimensions><a class="reference internal" href=../indexing.html#python-indexing-newaxis><span class="std std-ref">Adding singleton dimensions</span></a><a class=headerlink href=#adding-singleton-dimensions title="Permalink to this headline">¶</a></h3> <p>Specifying a value of <a class="reference internal" href=tensorstore.newaxis.html title="tensorstore.newaxis (Python data) — Alias for None used in indexing expressions to specify a new singleton dimension."><code class="xref py py-obj docutils literal notranslate"><span class=pre>newaxis</span></code></a> (equal to <a class="reference external" href=https://docs.python.org/3/library/constants.html#None title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>None</span></code></a>) adds a new dummy/singleton dimension with <a class="reference internal" href=../../index_space.html#implicit-bounds><span class="std std-ref">implicit bounds</span></a> <span class="math notranslate nohighlight">\([0, 1)\)</span>:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>IndexTransform</span><span class=p>(</span><span class=n>input_labels</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>])</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>]]</span>
<span class=go>Rank 3 -&gt; 2 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*) &quot;x&quot;</span>
<span class=go>    1: [0*, 1*)</span>
<span class=go>    2: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[2]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>,</span> <span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>]]</span>
<span class=go>Rank 4 -&gt; 2 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [0*, 1*)</span>
<span class=go>    1: (-inf*, +inf*) &quot;x&quot;</span>
<span class=go>    2: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    3: [0*, 1*)</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[1]</span>
<span class=go>    out[1] = 0 + 1 * in[2]</span>
</code></pre></div> </div> <p>As with integer indexing, if only a single <code class="code highlight python docutils literal highlight-python"><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span></code> term is specified, it applies to all selected dimensions:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>]]</span>
<span class=go>Rank 4 -&gt; 2 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: [0*, 1*)</span>
<span class=go>    1: (-inf*, +inf*) &quot;x&quot;</span>
<span class=go>    2: (-inf*, +inf*) &quot;y&quot;</span>
<span class=go>    3: [0*, 1*)</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[1]</span>
<span class=go>    out[1] = 0 + 1 * in[2]</span>
</code></pre></div> </div> <p><a class="reference internal" href=tensorstore.newaxis.html title="tensorstore.newaxis (Python data) — Alias for None used in indexing expressions to specify a new singleton dimension."><code class="xref py py-obj docutils literal notranslate"><span class=pre>newaxis</span></code></a> terms are only permitted in the first operation of a dimension expression, since in subsequent operations all dimensions of the dimension selection necessarily refer to existing dimensions:</p> <div class="failure admonition"> <p class=admonition-title>Error</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>translate_by</span><span class=p>[</span><span class=mi>5</span><span class=p>][</span><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>]]</span>
<span class=gt>Traceback (most recent call last):</span>
    <span class=o>...</span>
<span class=gr>IndexError</span>: <span class=n>tensorstore.newaxis (`None`) not valid in chained indexing operations</span>
</code></pre></div> </div> </div> <p>It is also an error to use <a class="reference internal" href=tensorstore.newaxis.html title="tensorstore.newaxis (Python data) — Alias for None used in indexing expressions to specify a new singleton dimension."><code class="xref py py-obj docutils literal notranslate"><span class=pre>newaxis</span></code></a> with dimensions specified by label:</p> <div class="failure admonition"> <p class=admonition-title>Error</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>][</span><span class=n>ts</span><span class=o>.</span><span class=n>newaxis</span><span class=p>]]</span>
<span class=gt>Traceback (most recent call last):</span>
    <span class=o>...</span>
<span class=gr>IndexError</span>: <span class=n>New dimensions cannot be specified by label</span>
</code></pre></div> </div> </div> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-newaxis><span class="std std-ref">Adding singleton dimensions</span></a></p> </div> <h3 id=ellipsis><a class="reference internal" href=../indexing.html#python-indexing-ellipsis><span class="std std-ref">Ellipsis</span></a><a class=headerlink href=#ellipsis title="Permalink to this headline">¶</a></h3> <p>Specifying the special <a class="reference external" href=https://docs.python.org/3/library/constants.html#Ellipsis title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>Ellipsis</span></code></a> value (<code class="code highlight python docutils literal highlight-python"><span class=o>...</span></code>) is equivalent to specifying as many full slices <code class="code highlight python docutils literal highlight-python"><span class=p>:</span></code> as needed to consume the remaining selected dimensions not consumed by other indexing terms:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>IndexTransform</span><span class=p>(</span><span class=n>input_rank</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:][</span><span class=mi>1</span><span class=p>,</span> <span class=o>...</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span><span class=o>.</span><span class=n>translate_by</span><span class=p>[</span><span class=mi>3</span><span class=p>]]</span>
<span class=go>Rank 2 -&gt; 4 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*)</span>
<span class=go>    1: (-inf*, +inf*)</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 1</span>
<span class=go>    out[1] = -3 + 1 * in[0]</span>
<span class=go>    out[2] = -3 + 1 * in[1]</span>
<span class=go>    out[3] = 5</span>
</code></pre></div> </div> <p>An indexing spec consisting solely of an <a class="reference external" href=https://docs.python.org/3/library/constants.html#Ellipsis title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>Ellipsis</span></code></a> term has no effect:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>transform</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:][</span><span class=o>...</span><span class=p>]]</span>
<span class=go>Rank 4 -&gt; 4 index space transform:</span>
<span class=go>  Input domain:</span>
<span class=go>    0: (-inf*, +inf*)</span>
<span class=go>    1: (-inf*, +inf*)</span>
<span class=go>    2: (-inf*, +inf*)</span>
<span class=go>    3: (-inf*, +inf*)</span>
<span class=go>  Output index maps:</span>
<span class=go>    out[0] = 0 + 1 * in[0]</span>
<span class=go>    out[1] = 0 + 1 * in[1]</span>
<span class=go>    out[2] = 0 + 1 * in[2]</span>
<span class=go>    out[3] = 0 + 1 * in[3]</span>
</code></pre></div> </div> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-ellipsis><span class="std std-ref">Ellipsis</span></a></p> </div> <h3 id=integer-array-indexing><a class="reference internal" href=../indexing.html#python-indexing-integer-array><span class="std std-ref">Integer array indexing</span></a><a class=headerlink href=#integer-array-indexing title="Permalink to this headline">¶</a></h3> <p>Specifying an <a class="reference external" href=https://numpy.org/doc/stable/glossary.html#term-array-like title="(in NumPy v1.19)"><code class="xref any docutils literal notranslate"><span class=pre>array_like</span></code></a> <em>index array</em> of integer values selects the coordinates given by the elements of the array of the selected dimension:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]],</span> <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:]</span><span class=o>.</span><span class=n>label</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>][[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[2, 2, 1], [5, 5, 4]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [2, 3],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;x&#39;, &#39;&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>As in the example above, if only a single index array term is specified, the dimensions of the index array are added to the result domain in place of the selected dimension, consistent with <a class="reference internal" href=../indexing.html#python-indexing-integer-array><span class="std std-ref">direct NumPy-style indexing</span></a> in the default index array mode.</p> <p>However, when using NumPy-style indexing with a dimension expression, if more than one index array term is specified, the broadcast dimensions of the index arrays are always added to the beginning of the result domain, i.e. exactly the behavior of <a class="reference internal" href=tensorstore.DimExpression.vindex.html title="tensorstore.DimExpression.vindex (Python method) — Applies a NumPy-style indexing operation with vectorized indexing semantics."><code class="xref py py-obj docutils literal notranslate"><span class=pre>DimExpression.vindex</span></code></a>. Unlike with direct NumPy-style indexing (not with a dimension expression), the behavior does not depend on whether the index array terms apply to consecutive dimensions, since consecutive dimensions are not well-defined for dimension expressions:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>array</span><span class=p>([[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]],</span> <span class=p>[[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]]],</span> <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:]</span><span class=o>.</span><span class=n>label</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>]]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;z&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>][[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[4, 3], [8, 7]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [2, 2],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;x&#39;, &#39;&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-integer-array><span class="std std-ref">Integer array indexing</span></a></p> </div> <h3 id=boolean-array-indexing><a class="reference internal" href=../indexing.html#python-indexing-boolean-array><span class="std std-ref">Boolean array indexing</span></a><a class=headerlink href=#boolean-array-indexing title="Permalink to this headline">¶</a></h3> <p>Specifying an <a class="reference external" href=https://numpy.org/doc/stable/glossary.html#term-array-like title="(in NumPy v1.19)"><code class="xref any docutils literal notranslate"><span class=pre>array_like</span></code></a> of <a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_."><code class="xref any py py-data docutils literal notranslate"><span class=pre>bool</span></code></a> values is equivalent to specifying a sequence of integer index arrays containing the coordinates of <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> values (in C order), e.g. as obtained from <a class="reference external" href=https://numpy.org/doc/stable/reference/generated/numpy.nonzero.html#numpy.nonzero title="(in NumPy v1.19)"><code class="xref any docutils literal notranslate"><span class=pre>numpy.nonzero</span></code></a>:</p> <p>Specifying a 1-d <a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_."><code class="xref any py py-data docutils literal notranslate"><span class=pre>bool</span></code></a> array is equivalent to a single index array of the non-zero coordinates:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]],</span> <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:]</span><span class=o>.</span><span class=n>label</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>][[</span><span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[2, 3], [5, 6]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [2, 2],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;x&#39;, &#39;&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>Equivalently, using an index array:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>][[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[2, 3], [5, 6]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [2, 2],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;x&#39;, &#39;&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>More generally, specifying an <code class="docutils literal notranslate"><span class=pre>n</span></code>-dimensional <a class="reference internal" href=tensorstore.bool.html title="tensorstore.bool (Python data) — Boolean data type (0 or 1).  Corresponds to the python:bool type and numpy.bool_."><code class="xref any py py-data docutils literal notranslate"><span class=pre>bool</span></code></a> array is equivalent to specifying <code class="docutils literal notranslate"><span class=pre>n</span></code> 1-dimensional index arrays, where the <code class="docutils literal notranslate"><span class=pre>i</span></code>th index array specifies the <code class="docutils literal notranslate"><span class=pre>i</span></code>th coordinate of the <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> values:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>array</span><span class=p>([[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]],</span> <span class=p>[[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>]]],</span>
<span class=gp>... </span>             <span class=n>dtype</span><span class=o>=</span><span class=n>ts</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[:]</span><span class=o>.</span><span class=n>label</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>]]</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][[[</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>],</span> <span class=p>[</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>]]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[1, 4], [7, 10], [8, 11]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [3, 2],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;&#39;, &#39;y&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>Equivalently, using an index array:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>x</span><span class=p>[</span><span class=n>ts</span><span class=o>.</span><span class=n>d</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;z&#39;</span><span class=p>][[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>]]]</span>
<span class=go>TensorStore({</span>
<span class=go>  &#39;array&#39;: [[1, 4], [7, 10], [8, 11]],</span>
<span class=go>  &#39;context&#39;: {&#39;data_copy_concurrency&#39;: {}},</span>
<span class=go>  &#39;driver&#39;: &#39;array&#39;,</span>
<span class=go>  &#39;dtype&#39;: &#39;int32&#39;,</span>
<span class=go>  &#39;transform&#39;: {</span>
<span class=go>    &#39;input_exclusive_max&#39;: [3, 2],</span>
<span class=go>    &#39;input_inclusive_min&#39;: [0, 0],</span>
<span class=go>    &#39;input_labels&#39;: [&#39;&#39;, &#39;y&#39;],</span>
<span class=go>  },</span>
<span class=go>})</span>
</code></pre></div> </div> <p>Note that as with integer array indexing, when using NumPy-styling indexing with a dimension expression, if boolean arrays are applied to more than one selected dimension, the added dimension corresponding to the <a class="reference external" href=https://docs.python.org/3/library/constants.html#True title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class=pre>True</span></code></a> values is always added to the beginning of the result domain, i.e. exactly the behavior of <a class="reference internal" href=tensorstore.DimExpression.vindex.html title="tensorstore.DimExpression.vindex (Python method) — Applies a NumPy-style indexing operation with vectorized indexing semantics."><code class="xref py py-obj docutils literal notranslate"><span class=pre>DimExpression.vindex</span></code></a>.</p> <div class="admonition seealso"> <p class=admonition-title>See also</p> <p><a class="reference internal" href=../indexing.html#python-indexing-boolean-array><span class="std std-ref">Boolean array indexing</span></a></p> </div> </dd></dl> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-up width=24 height=24 viewbox="0 0 24 24"><path d=M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z /></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=tensorstore.DimExpression.html class="md-footer__link md-footer__link--prev" aria-label="Previous: tensorstore.DimExpression" rel=prev> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-left width=24 height=24 viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> tensorstore.DimExpression </div> </div> </a> <a href=tensorstore.DimExpression.oindex.html class="md-footer__link md-footer__link--next" aria-label="Next: tensorstore.DimExpression.oindex" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> tensorstore.DimExpression.oindex </div> </div> <div class="md-footer__button md-icon"> <?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 id=mdi-arrow-right width=24 height=24 viewbox="0 0 24 24"><path d=M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z /></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "navigation.sections", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script> <script src=../../_static/javascripts/bundle.js></script> <script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script> <script async=async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script>window.MathJax = {"chtml": {"displayAlign": "left"}}</script> </body> </html>